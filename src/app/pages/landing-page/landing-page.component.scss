// ================== HERO SECTION ==================
.hero {
  min-height: calc(100vh - 5.5rem);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 3vw 7vw;
  gap: 2.5vw;
  font-family: 'Montserrat', 'Inter', Arial, sans-serif;
  background: var(--bg-main);

  @media (max-width: 900px) {
    flex-direction: column;
    text-align: center;
    padding: 7vw 3vw 10vw 3vw;
    gap: 4vw;
    min-height: unset;
  }
}

.hero__content {
  flex: 1 1 0;
  min-width: 19rem;
  max-width: 32rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 1.1rem;
  padding-left: 2vw;

  @media (max-width: 900px) {
    padding-left: 0;
    margin-bottom: 3vw;
    align-items: center;
  }
}
.hero__title {
  color: var(--navbar-link-active);
  font-size: clamp(2.2rem, 4vw, 3.2rem);
  font-weight: 800;
  margin: 0 0 0.35em 0;
  line-height: 1.08;
  letter-spacing: 0.03em;

  @media (max-width: 900px) {
    padding-top: 1.6rem;
  }
}
.hero__subtitle {
  color: var(--text-sub);
  font-size: clamp(1.06rem, 2vw, 1.3rem);
  font-weight: 600;
  margin-bottom: 0.2em;
  letter-spacing: 0.01em;
}
.hero__desc {
  color: var(--text-main);
  font-size: clamp(1rem, 1.3vw, 1.13rem);
  line-height: 1.38;
  font-weight: 400;
  margin-bottom: 0.7em;
}
.hero__btn {
  display: inline-block;
  background: #29c95e;
  color: #fff;
  font-size: clamp(1rem, 2vw, 1.18rem);
  font-weight: 700;
  border: none;
  border-radius: 2rem;
  padding: 0.85em 2.5em;
  margin-top: 0.7em;
  cursor: pointer;
  box-shadow: 0 0.2rem 1.2rem #0001;
  transition: background 0.22s;
  min-width: 11rem;

  &:hover {
    background: var(--navbar-link-active);
  }
}
.hero__image {
  flex: 1 1 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-width: 16rem;
  max-width: 34vw;
  padding-left: 1vw;
  @media (max-width: 900px) {
    max-width: 96vw;
    padding-left: 0;
  }
}
.hero__image img {
  max-width: 96%;
  width: 28vw;
  border-radius: 1.2rem;
  box-shadow: 0 0.13rem 1rem #0001;
  margin-bottom: 0.7em;
  transition: width 0.22s, max-width 0.22s;
  object-fit: contain;

  @media (max-width: 900px) {
    width: 88vw;
    max-width: 420px;
    margin: 0 auto 0.6em auto;
  }
}
.hero__img-caption {
  font-size: 1rem;
  color: #888;
  margin-top: 0.1em;
  font-style: italic;
  font-family: 'Inter', Arial, sans-serif;
  text-align: left;
  max-width: 95%;
  @media (max-width: 900px) { text-align: center; }
}

// ================== WHY SECTION ==================
.why-section {
  position: relative;
  width: 100%;
  padding: 4vw 0;
  background: var(--why-bg);
  isolation: isolate;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Montserrat', 'Inter', Arial, sans-serif;
}
.why-section__container {
  width: 96vw;
  max-width: 1600px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}
.why-section__icon-group {
  position: absolute;
  left: 20vw;
  top: 52.5%;
  transform: translateY(-53%) rotate(10deg);
  display: flex;
  gap: 2vw;
  z-index: 1;
  pointer-events: none;
  filter: drop-shadow(3vw 2vw 3vw rgba(0,0,0,0.28)) drop-shadow(8vw -3vw 0.2vw rgba(0,0,0,0.22));
  opacity: 0.91;

  .icon-exclam, .icon-quest {
    font-size: clamp(8rem, 16vw, 16rem);
    font-family: 'Montserrat', 'Inter', Arial, sans-serif;
    font-weight: 900;
    color: var(--icon-accent);
    letter-spacing: -0.08em;
    line-height: 1;
    user-select: none;
  }
}
.why-section__content {
  position: relative;
  z-index: 2;
  color: #fff;
  width: 66vw;
  max-width: 70vw;
  margin: 0;
  padding: 3vw 0;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: center;
  text-align: right;

  .why-section__title {
    font-size: clamp(2.1rem, 5vw, 3.1rem);
    font-weight: 800;
    margin-bottom: 1.2vw;
    text-shadow: 0 4px 22px #0003;
    letter-spacing: 0.03em;
    line-height: 1.1;
  }
  .why-section__list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 1vw;
    font-size: clamp(1.05rem, 1.8vw, 1.18rem);
    font-weight: 400;
    line-height: 1.55;
    li { background: transparent; }
  }
}

// ================== HOW SECTION ==================
.how-section {
  position: relative;
  width: 100%;
  background: var(--section-bg);
  padding: 4vw 0 5vw 0;
  isolation: isolate;
  font-family: 'Montserrat', 'Inter', Arial, sans-serif;

  &::before, &::after {
    content: "";
    position: absolute;
    pointer-events: none;
  }
  &::before {
    top: -8vw; left: -12vw;
    width: 40vw; height: 40vw;
    background: radial-gradient(circle at 30% 50%, #6cbafd70 0%, transparent 75%);
    opacity: 0.14;
    z-index: 0;
  }
  &::after {
    bottom: -10vw; right: -9vw;
    width: 36vw; height: 36vw;
    background: radial-gradient(circle at 70% 100%, #34e2ff77 0%, transparent 85%);
    opacity: 0.10;
    z-index: 0;
  }

  .how-section__container {
    width: 92vw;
    max-width: 1300px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .how-section__title {
    font-size: clamp(1.95rem, 3.8vw, 2.65rem);
    font-weight: 800;
    color: var(--navbar-link-active, #2186EB);
    text-align: center;
    letter-spacing: 0.02em;
    margin-bottom: 2.5vw;
    line-height: 1.15;
    text-shadow: 0 2px 16px #2186eb14;
  }

  .how-section__steps {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: stretch;
    gap: 2vw;
    flex-wrap: nowrap;
    width: 100%;
    margin-top: 0.5vw;
  }

  .how-section__step {
    flex: 1 1 0;
    min-width: 220px;
    max-width: 400px;
    background: var(--card-bg);
    border-radius: 1.4vw;
    box-shadow: 0 6px 28px var(--card-shadow);
    border: 1.1px solid #bfe2fa45;
    padding: 2.7vw 2vw 2.4vw 2vw;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    transition: box-shadow 0.21s, transform 0.15s, border 0.13s;
    z-index: 1;

    &:hover {
      box-shadow: 0 16px 40px #2186eb21, 0 1vw 1.5vw #21e0ff13;
      border: 1.3px solid #83c8ff54;
      transform: translateY(-0.6vw) scale(1.06) rotate(-1.3deg);

      .how-section__step-icon { animation: shake-icon 0.33s; }
    }
  }

  .how-section__step-icon {
    width: 4.9vw; max-width: 74px; min-width: 36px;
    height: 4.9vw; max-height: 74px; min-height: 36px;
    margin-bottom: 1.3vw;
    filter: drop-shadow(0 0 1vw #49c6ff70);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3.2vw;
    user-select: none;
    img, svg { width: 100%; height: 100%; display: block; }
    transition: filter 0.15s;
    .how-section__step:hover & {
      filter: drop-shadow(0 0 1.5vw #36bbff91);
    }
  }

  .how-section__step-title {
    font-size: clamp(1.17rem, 1.8vw, 1.42rem);
    color: var(--navbar-link-active, #2186EB);
    font-weight: 700;
    margin-bottom: 0.7vw;
    text-align: center;
    letter-spacing: 0.01em;
    line-height: 1.18;
  }

  .how-section__step-desc {
    font-size: clamp(1.01rem, 1.16vw, 1.13rem);
    color: var(--text-sub, #3b5569);
    font-weight: 400;
    text-align: center;
    line-height: 1.53;
    margin: 0;
    opacity: 1; 
  }
}

/* Responsive: dàn dọc khi <900px */
@media (max-width: 900px) {
  .how-section {
    padding: 9vw 0 10vw 0;
    .how-section__container {
      width: 99vw;
      max-width: 99vw;
    }
    .how-section__steps {
      flex-direction: column;
      gap: 7vw;
      align-items: center;
      width: 100%;
      margin-top: 0;
    }
    .how-section__step {
      min-width: 80vw;
      max-width: 96vw;
      border-radius: 5vw;
      margin: 0 auto;
      padding: 8vw 6vw 7vw 6vw;
      box-shadow: 0 3px 24px var(--card-shadow);
    }
    .how-section__step-icon { font-size: 9vw; width: 13vw; height: 13vw; margin-bottom: 3vw; }
    .how-section__step-title { font-size: clamp(1rem, 4vw, 1.12rem); margin-bottom: 2vw;}
    .how-section__step-desc { font-size: clamp(0.99rem, 3vw, 1.08rem);}
  }
}

// ================== FEATURES SECTION ==================
.features-section {
  width: 100%;
  background: var(--features-bg);
  padding: 4vw 0;
  position: relative;
  overflow: clip;
  font-family: 'Montserrat', 'Inter', Arial, sans-serif;

  .features-section__container {
    width: 92vw;
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .features-section__title {
    font-family: 'Montserrat', Arial, sans-serif;
    font-weight: 800;
    font-size: clamp(2rem, 4vw, 2.8rem);
    color: var(--navbar-link-active);
    letter-spacing: 0.02em;
    margin-bottom: 3vw;
    text-align: center;
    line-height: 1.13;
    text-shadow: 0 2px 16px #2170c114;
  }

  .features-section__cards {
    display: flex;
    flex-direction: row;
    gap: 2.5vw;
    justify-content: center;
    align-items: stretch;
    width: 100%;
    margin-top: 1vw;
  }

  .features-section__card {
    background: var(--card-bg);
    border-radius: 1.7vw;
    box-shadow: 0 6px 36px var(--card-shadow);
    border: 1.2px solid #bfe2fa56;
    padding: 2.5vw 2vw 2vw 2vw;
    flex: 1 1 0;
    min-width: 220px;
    max-width: 360px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: box-shadow 0.18s, transform 0.14s;
    z-index: 1;
    position: relative;

    &:hover {
      box-shadow: 0 20px 52px #3ea0ed2a, 0 1vw 1.5vw #6be2ff15;
      border: 1.3px solid #83c8ff61;
      transform: translateY(-0.8vw) scale(1.06) rotate(-1deg);

      .features-section__icon {
        animation: shake-icon 0.36s;
        filter: drop-shadow(0 0 1.6vw #009fff80);
      }
    }
  }

  .features-section__icon {
    font-size: clamp(2.7rem, 4.7vw, 3.5rem);
    color: var(--icon-main);
    margin-bottom: 1.5vw;
    filter: drop-shadow(0 0 1.1vw #2db5ff47);
    user-select: none;
    transition: filter 0.15s;
  }

  .features-section__card-title {
    font-family: 'Montserrat', Arial, sans-serif;
    font-weight: 700;
    color: #1370bb;
    font-size: clamp(1.15rem, 1.85vw, 1.45rem);
    margin-bottom: 0.8vw;
    text-align: center;
    letter-spacing: 0.01em;
    line-height: 1.18;
  }

  .features-section__card-desc {
    font-family: 'Montserrat', Arial, sans-serif;
    font-size: clamp(1rem, 1.15vw, 1.09rem);
    color: var(--text-sub, #3b5569);
    font-weight: 400;
    text-align: center;
    line-height: 1.53;
    margin: 0;
    opacity: 0.98;
    letter-spacing: 0.01em;
  }
}

// Icon shake animation (reusable cho cả how-section & features-section)
@keyframes shake-icon {
  0% { transform: rotate(0deg);}
  20% { transform: rotate(-7deg);}
  48% { transform: rotate(7deg);}
  80% { transform: rotate(-4deg);}
  100% { transform: rotate(0deg);}
}

// ================ RESPONSIVE MOBILE ================
@media (max-width: 900px) {
  .hero,
  .why-section,
  .how-section,
  .features-section {
    width: 100%;
    min-width: 0;
    max-width: 100vw;
    overflow-x: hidden;
  }
  .features-section {
    padding: 10vw 0 11vw 0;
    .features-section__container {
      width: 99vw;
      max-width: 99vw;
    }
    .features-section__title {
      font-size: clamp(1.22rem, 7vw, 2rem);
      margin-bottom: 7vw;
    }
    .features-section__cards {
      flex-direction: column;
      gap: 7vw;
      align-items: center;
      width: 100%;
      margin-top: 0;
    }
    .features-section__card {
      min-width: 80vw;
      max-width: 96vw;
      border-radius: 5vw;
      margin: 0 auto;
      padding: 8vw 6vw 7vw 6vw;
      box-shadow: 0 3px 24px #3ea0ed18;
    }
    .features-section__icon { font-size: 10vw; margin-bottom: 4vw;}
    .features-section__card-title { font-size: clamp(1rem, 4vw, 1.14rem); margin-bottom: 2vw;}
    .features-section__card-desc { font-size: clamp(0.99rem, 3vw, 1.08rem);}
  }
  // Các section khác cũng đảm bảo không scroll ngang
  .hero, .why-section, .how-section {
    width: 100%;
    min-width: 0;
    max-width: 100vw;
    overflow-x: hidden;
  }
}

// ================= GLOBAL =================
html, body {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  background: var(--bg-main);
  color: var(--text-main);
}
